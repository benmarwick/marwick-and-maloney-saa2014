---
title: "master.rmd"
author: Ben Marwick
date: Tuesday, April 01, 2014
output: html_document
---

Working with the images from LR9, ME2 & 3, LR12, mtbehn surface 2, japi

need to edit filenames to make this work!

```{r}
# get data, change this to your Dropbox location
image_files <- "C:\\Users\\marwick\\UW-Dropbox\\Dropbox\\Malonys-lithic-scan-data"
dirs <- dir(image_files, full.names = TRUE)

# get jpgs in each directory
jpgs <- list.files(dirs, pattern = "jpg|JPG$", recursive = TRUE, full.names = TRUE)

# how many jpgs per directory?
count_jpgs <- sapply(dirs, function(i) length(list.files(i, pattern = "jpg|JPG$", full.names = TRUE)))

# make easy to read data frame
count_jpgs_df <- data.frame(dir = basename(dirs), 
           count = unname(count_jpgs))

# sort
count_jpgs_df <- count_jpgs_df[with(count_jpgs_df, order(-count)),]
count_jpgs_df

# amongst the archaeological sites we have lots for
# LR9, ME2 & 3, LR12, mtbehn surface 2, japi
```



```{r}
# get_outlines code needs to start in workind director near image files
setwd(paste0(image_files, "/LR9-scans"))


# get_outlines code needs object which is called list_imgs
# we'll use the LR9 images first
list_imgs <- basename(jpgs[grep("LR9", jpgs)])

# now run the get_outlines code and watch the outlines appear...
source("F:/My Documents/My Papers/conferences/SAA2014/Marwick and Malony/code/get_outlines.r")

